<div class="ui centered grid segment" style="margin-left: 20px; margin-right:20px; min-height: 40px">
    <div [@accordion2]="detailMenuOpen" class="four wide column">
        <app-typeahead-input [@accordion]="detailMenuOpen"
                [searchList]="searchList"
                [placeHolderText]="placeHolderText"
                (ArtificialIntelligenceEventEmitter)="gadgetGrid.addGadgetUsingArtificialIntelligence($event)">
        </app-typeahead-input>

    </div>
    <div [@accordion2]="detailMenuOpen" class="four wide column">
        <div [@accordion]="detailMenuOpen" class="ui centered secondary pointing menu">
            <a *ngFor="let board of dashboardList; let i = index" class="item"
               [ngClass]="{'active':board == selectedBoard}"
               (click)="gadgetGrid.loadBoard(board)" (click)="selectBoard(board)">
                {{board}}
            </a>
        </div>
    </div>

    <div [@accordion2]="detailMenuOpen" class="eight wide right aligned column">

        <a [@accordion]="detailMenuOpen" mat-mini-fab routerLink="." color="primary"
           (click)="notifcationModal.showNotificationModal('Notifications')">
            <mat-icon>notifications</mat-icon>
            <div class="floating ui red label"><span style="font-size: 1.2em; font-weight: normal">4</span></div>
        </a>
        <span [@accordion]="detailMenuOpen">Alerts
            &nbsp;</span>

        <a [@accordion]="detailMenuOpen" mat-mini-fab routerLink="." color="primary"
           (click)="addGadgetModal.showComponentLibraryModal('Add Gadget')">
            <mat-icon>add_circle_outline</mat-icon>
        </a>
        <span [@accordion]="detailMenuOpen">Add
            &nbsp;</span>

        <a [@accordion]="detailMenuOpen" mat-mini-fab routerLink="." color="primary"
           (click)="boardLayoutModal.showBoardLayoutsModal('Board Layout','test')">
            <mat-icon>grid_on</mat-icon>
        </a>
            <span [@accordion]="detailMenuOpen">Layout
            &nbsp;</span>

        <a [@accordion]="detailMenuOpen"  mat-mini-fab routerLink="." color="primary"
           (click)="boardConfigModal.showBoardConfigurationModal('Configuration')">
            <mat-icon>settings</mat-icon>
        </a>
             <span [@accordion]="detailMenuOpen">Configure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    </div>

    <div class="ui bottom right attached label" style="background-color: white"><i
            class="large chevron icon" (click)="toggleAcordion()"
            [ngClass]="{'up':detailMenuOpen == 'in', 'down': detailMenuOpen=='out'}"
            style="color:lightgrey"></i></div>
</div>


<app-board-layout-manager-modal #boardLayoutModal
                                (boardLayoutChangeEvent)="gadgetGrid.updateBoardLayout($event)">

</app-board-layout-manager-modal>

<!-- the modal will emit an event and call the grid component to add the requested cell to the board -->
<app-add-gadget-modal #addGadgetModal
                      (addGadgetEvent)="gadgetGrid.addGadget($event)">
</app-add-gadget-modal>

<!-- the grid component will create the requested gadget dynamically -->
<app-grid-component #gadgetGrid
                    (boardUpdateEvent)="updateDashboardMenu($event)">
</app-grid-component>

<app-board-configuration-modal #boardConfigModal
                               (dashboardCreateEvent)="gadgetGrid.createBoard($event)"
                               (dashboardEditEvent)="gadgetGrid.editBoard($event)"
                               (dashboardDeleteEvent)="gadgetGrid.deleteBoard($event)"
                               [dashboardList]="dashboardList">


</app-board-configuration-modal>


<app-notification-modal #notifcationModal></app-notification-modal>
